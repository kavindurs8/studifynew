import{r as i,j as e}from"./app-DsiinyfJ.js";import{a as p,L as f}from"./index-DFVleI9N.js";function N({courseId:c,section:t,onClose:d,onSave:h}){const[r,o]=i.useState({title:"",description:""}),[m,u]=i.useState(!1),[s,l]=i.useState({});i.useEffect(()=>{t&&o({title:t.title||"",description:t.description||""})},[t]);const b=async a=>{a.preventDefault(),u(!0),l({});try{const n=t?`/teacher/courses/${c}/sections/${t.id}`:`/teacher/courses/${c}/sections`,x=await(await fetch(n,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(r)})).json();x.success?h():l(x.errors||{})}catch(n){console.error("Error saving section:",n),l({general:"An error occurred while saving the section."})}finally{u(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t?"Edit Section":"Add New Section"}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600",children:e.jsx(p,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Section Title *"}),e.jsx("input",{type:"text",id:"title",value:r.title,onChange:a=>o({...r,title:a.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter section title",required:!0}),s.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title[0]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Section Description"}),e.jsx("textarea",{id:"description",rows:3,value:r.description,onChange:a=>o({...r,description:a.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe what students will learn in this section"}),s.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.description[0]})]}),s.general&&e.jsx("div",{className:"text-red-600 text-sm",children:s.general}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:m,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),m?"Saving...":"Save Section"]})]})]})]})})}export{N as default};
