import{q as z,r as d,v as y,j as e,$ as u}from"./app-DsiinyfJ.js";import{I as i}from"./InputLabel-yYW2s_lh.js";import{T as c,I as r}from"./TextInput-Cqwv5mhS.js";import{P as x}from"./PrimaryButton-DtxTvRrX.js";import{S as V}from"./SecondaryButton-Bio2PGV_.js";import{G as h}from"./GuestLayout-Dmy4UOhw.js";function G(){const{props:a}=z(),[o,p]=d.useState(1),[N,b]=d.useState(a.show_otp_form||!1),[_,w]=d.useState(a.teacher_id||null),[C,k]=d.useState(a.email_verified||!1),{data:l,setData:n,post:g,processing:v,errors:t}=y({name:"",email:"",password:"",password_confirmation:"",nationality:"",contact_no:"",linkedin_id:"",expertise_area:"",teaching_experience:"",recent_company:"",recent_qualification:"",university_name:"",specialization:"",cv:null}),{data:F,setData:j,post:S,processing:f,errors:O}=y({teacher_id:a.teacher_id||"",otp:""});d.useEffect(()=>{a.teacher_id&&(w(a.teacher_id),j("teacher_id",a.teacher_id)),a.show_otp_form&&b(!0),a.email_verified&&k(!0)},[a]);const P=["Development","Business","Finance & Accounting","IT & Software","Office Productivity","Personal Development","Design","Marketing","Lifestyle","Photography & Video","Health & Fitness","Music","Teaching & Academics","Other"],q=["0","0 - 1","1 - 3","3 - 5","5 + years"],D=()=>{o<3&&p(o+1)},T=()=>{o>1&&p(o-1)},I=s=>{s.preventDefault(),console.log("Form submitted with data:",l),g("/teacher/register",{forceFormData:!0,onSuccess:()=>{console.log("Registration successful")},onError:m=>{console.log("Validation errors:",m)}})},R=s=>{s.preventDefault(),S("/teacher/verify-otp",{onSuccess:m=>{console.log("OTP verification successful"),m.props.redirect&&(window.location.href=m.props.redirect)},onError:m=>{console.log("OTP errors:",m)}})},E=()=>{g("/teacher/resend-otp",{teacher_id:_})};return C?e.jsxs(h,{children:[e.jsx(u,{title:"Registration Complete"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 text-green-600",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Complete!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your email has been verified successfully. Your account is now pending admin approval. You will receive an email notification once your account is approved."}),e.jsx("a",{href:"/teacher/login",className:"text-blue-600 hover:text-blue-500",children:"Go to Login"})]})]}):N?e.jsxs(h,{children:[e.jsx(u,{title:"Verify Email"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verify Your Email"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a 6-digit OTP to your email address. Please enter it below to verify your account."}),a.message&&e.jsx("div",{className:`mb-4 p-4 rounded ${a.success?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.message}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"otp",value:"Enter OTP"}),e.jsx(c,{id:"otp",type:"text",className:"mt-1 block w-full text-center text-2xl tracking-widest",value:F.otp,onChange:s=>j("otp",s.target.value),maxLength:"6",placeholder:"000000"}),e.jsx(r,{message:O.otp||t.otp,className:"mt-2"})]}),e.jsx(x,{className:"w-full",disabled:f,children:f?"Verifying...":"Verify OTP"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:E,className:"text-sm text-blue-600 hover:text-blue-500",children:"Didn't receive the OTP? Resend"})})]})]}):e.jsxs(h,{children:[e.jsx(u,{title:"Teacher Registration"}),a.message&&e.jsx("div",{className:`mb-4 p-4 rounded ${a.success?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.message}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"Teacher Registration"}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${o>=s?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:s}),s<3&&e.jsx("div",{className:`w-16 h-1 ${o>s?"bg-blue-600":"bg-gray-200"}`})]},s))})]}),e.jsxs("form",{onSubmit:I,className:"space-y-6",encType:"multipart/form-data",children:[o===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",value:"Full Name"}),e.jsx(c,{id:"name",className:"mt-1 block w-full",value:l.name,onChange:s=>n("name",s.target.value),required:!0}),e.jsx(r,{message:t.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",value:"Email"}),e.jsx(c,{id:"email",type:"email",className:"mt-1 block w-full",value:l.email,onChange:s=>n("email",s.target.value),required:!0}),e.jsx(r,{message:t.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"password",value:"Password"}),e.jsx(c,{id:"password",type:"password",className:"mt-1 block w-full",value:l.password,onChange:s=>n("password",s.target.value),required:!0}),e.jsx(r,{message:t.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"password_confirmation",value:"Confirm Password"}),e.jsx(c,{id:"password_confirmation",type:"password",className:"mt-1 block w-full",value:l.password_confirmation,onChange:s=>n("password_confirmation",s.target.value),required:!0}),e.jsx(r,{message:t.password_confirmation,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"nationality",value:"Nationality"}),e.jsx(c,{id:"nationality",className:"mt-1 block w-full",value:l.nationality,onChange:s=>n("nationality",s.target.value),required:!0}),e.jsx(r,{message:t.nationality,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"contact_no",value:"Contact Number"}),e.jsx(c,{id:"contact_no",className:"mt-1 block w-full",value:l.contact_no,onChange:s=>n("contact_no",s.target.value),required:!0}),e.jsx(r,{message:t.contact_no,className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"linkedin_id",value:"LinkedIn ID (Optional)"}),e.jsx(c,{id:"linkedin_id",className:"mt-1 block w-full",value:l.linkedin_id,onChange:s=>n("linkedin_id",s.target.value)}),e.jsx(r,{message:t.linkedin_id,className:"mt-2"})]})]})]}),o===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Information"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"expertise_area",value:"Area of Expertise"}),e.jsxs("select",{id:"expertise_area",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:l.expertise_area,onChange:s=>n("expertise_area",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select your area of expertise"}),P.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx(r,{message:t.expertise_area,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"teaching_experience",value:"Teaching Experience"}),e.jsxs("select",{id:"teaching_experience",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:l.teaching_experience,onChange:s=>n("teaching_experience",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select your teaching experience"}),q.map(s=>e.jsxs("option",{value:s,children:[s," years"]},s))]}),e.jsx(r,{message:t.teaching_experience,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"recent_company",value:"Recent Company/Organization/Institute"}),e.jsx(c,{id:"recent_company",className:"mt-1 block w-full",value:l.recent_company,onChange:s=>n("recent_company",s.target.value),required:!0}),e.jsx(r,{message:t.recent_company,className:"mt-2"})]})]}),o===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Qualifications & Documents"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"recent_qualification",value:"Recent Qualification"}),e.jsx(c,{id:"recent_qualification",className:"mt-1 block w-full",value:l.recent_qualification,onChange:s=>n("recent_qualification",s.target.value),required:!0}),e.jsx(r,{message:t.recent_qualification,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"university_name",value:"University Name"}),e.jsx(c,{id:"university_name",className:"mt-1 block w-full",value:l.university_name,onChange:s=>n("university_name",s.target.value),required:!0}),e.jsx(r,{message:t.university_name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"specialization",value:"PhD/Masters Specialization (Optional)"}),e.jsx("textarea",{id:"specialization",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",rows:"3",value:l.specialization,onChange:s=>n("specialization",s.target.value),placeholder:"Please mention your specialization..."}),e.jsx(r,{message:t.specialization,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"cv",value:"Upload CV"}),e.jsx("input",{id:"cv",type:"file",className:"mt-1 block w-full",accept:".pdf,.doc,.docx",onChange:s=>n("cv",s.target.files[0]),required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Accepted formats: PDF, DOC, DOCX (Max: 5MB)"}),e.jsx(r,{message:t.cv,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[o>1&&e.jsx(V,{type:"button",onClick:T,children:"Previous"}),e.jsx("div",{className:"ml-auto",children:o<3?e.jsx(x,{type:"button",onClick:D,children:"Next"}):e.jsx(x,{type:"submit",disabled:v,children:v?"Registering...":"Complete Registration"})})]})]})]})}export{G as default};
