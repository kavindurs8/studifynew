import{q as _,r as m,v as S,R as k,j as e,$ as I}from"./app-DsiinyfJ.js";import{T as L}from"./TeacherLayout-C2Oz-zyu.js";import"./index-DFVleI9N.js";function $({categories:g,pricingTiers:a}){const{auth:h}=_().props,b=h.teacher;m.useEffect(()=>{console.log("=== PRICING TIERS DEBUG ==="),console.log("Raw Pricing Tiers:",a),console.log("Pricing Tiers Length:",a==null?void 0:a.length),console.log("Pricing Tiers IDs:",a==null?void 0:a.map(s=>s.id)),console.log("========================")},[a]);const{data:t,setData:l,post:p,processing:c,errors:n}=S({title:"",description:"",category:"",intended_learners:"",learning_objectives:["","","",""],requirements:"",target_audience:"",pricing_tier_id:"",level:"beginner",language:"English"}),[r,x]=m.useState(1),d=k.useMemo(()=>{if(!Array.isArray(a))return console.log("pricingTiers is not an array:",typeof a),[];const s=a.filter((i,o,u)=>o===u.findIndex(C=>C.id===i.id));return console.log("Original tiers:",a.length),console.log("Unique tiers:",s.length),s},[a]),j=s=>{s.preventDefault(),console.log("Submitting form data:",t),p(route("teacher.courses.store"))},y=()=>{l("learning_objectives",[...t.learning_objectives,""])},f=s=>{if(t.learning_objectives.length>4){const i=t.learning_objectives.filter((o,u)=>u!==s);l("learning_objectives",i)}},v=(s,i)=>{const o=[...t.learning_objectives];o[s]=i,l("learning_objectives",o)},N=()=>{r<5&&x(r+1)},w=()=>{r>1&&x(r-1)};return e.jsxs(L,{teacher:b,title:"Create New Course - STUDIFY",pageTitle:"Create New Course",pageSubtitle:"Build engaging courses that inspire and educate your students with our comprehensive course creation tools.",activeMenuItem:"courses",children:[e.jsx(I,{title:"Create Course"}),e.jsxs("div",{className:"mx-auto max-w-8xl",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-lg border border-gray-700 shadow-lg mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3,4,5].map(s=>e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full transition-all duration-300 ${s<=r?"bg-blue-600 text-white shadow-lg":"bg-gray-600 text-gray-400"}`,children:s},s))}),e.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${r/5*100}%`}})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("span",{className:"text-gray-300 text-sm font-medium",children:["Step ",r," of 5"]})})]}),e.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg border border-gray-700 shadow-lg",children:e.jsxs("form",{onSubmit:j,className:"p-8",children:[r===1&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Course Basic Information"}),e.jsx("p",{className:"text-gray-400",children:"Let's start with the fundamentals of your course"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Title"}),e.jsx("input",{type:"text",value:t.title,onChange:s=>l("title",s.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600 transition-colors",placeholder:"Enter your course title"}),n.title&&e.jsx("div",{className:"text-red-400 text-sm mt-2",children:n.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Category"}),e.jsxs("select",{value:t.category,onChange:s=>l("category",s.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600 transition-colors",children:[e.jsx("option",{value:"",children:"Select a category"}),g&&g.map(s=>e.jsx("option",{value:s.slug,children:s.name},s.id))]}),n.category&&e.jsx("div",{className:"text-red-400 text-sm mt-2",children:n.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Level"}),e.jsxs("select",{value:t.level,onChange:s=>l("level",s.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600 transition-colors",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Description"}),e.jsx("textarea",{value:t.description,onChange:s=>l("description",s.target.value),rows:5,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600 transition-colors",placeholder:"Describe what your course is about (minimum 50 characters)"}),n.description&&e.jsx("div",{className:"text-red-400 text-sm mt-2",children:n.description})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Intended Learners"}),e.jsx("textarea",{value:t.intended_learners,onChange:s=>l("intended_learners",s.target.value),rows:3,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600 transition-colors",placeholder:"Who is this course for?"})]})]})]}),r===2&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Learning Objectives"}),e.jsx("p",{className:"text-gray-400",children:"What will students learn in your course? You must enter at least 4 learning objectives."})]}),e.jsxs("div",{className:"space-y-6",children:[t.learning_objectives.map((s,i)=>e.jsx("div",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Learning Objective ",i+1]}),e.jsx("input",{type:"text",value:s,onChange:o=>v(i,o.target.value),className:"w-full px-4 py-3 bg-gray-600 border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 transition-colors",placeholder:"Students will be able to..."})]}),t.learning_objectives.length>4&&e.jsx("button",{type:"button",onClick:()=>f(i),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Remove"})]})},i)),n.learning_objectives&&e.jsx("div",{className:"text-red-400 text-sm",children:n.learning_objectives})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:y,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:"+ Add another learning objective"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Requirements or Prerequisites"}),e.jsx("textarea",{value:t.requirements,onChange:s=>l("requirements",s.target.value),rows:4,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600 transition-colors",placeholder:"What skills, experience, tools or equipment do learners need?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Audience"}),e.jsx("textarea",{value:t.target_audience,onChange:s=>l("target_audience",s.target.value),rows:4,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600 transition-colors",placeholder:"Who will find your course content valuable?"}),n.target_audience&&e.jsx("div",{className:"text-red-400 text-sm mt-2",children:n.target_audience})]})]})]}),r===3&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Course Structure"}),e.jsx("p",{className:"text-gray-400",children:"Plan your course structure carefully to create a clear learning path for students."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-blue-900/30 p-6 rounded-lg border border-blue-700",children:[e.jsx("h4",{className:"font-bold text-blue-300 mb-4 text-lg",children:"Tips for structuring your course:"}),e.jsxs("ul",{className:"space-y-3 text-blue-200",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-400 mr-2",children:"•"}),"Start with your goals and learning objectives"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-400 mr-2",children:"•"}),"Create an outline and group related lectures into sections"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-400 mr-2",children:"•"}),"Each section should have at least 3 lectures"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-400 mr-2",children:"•"}),"Include practical activities and assignments"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-400 mr-2",children:"•"}),"Make lectures 2-7 minutes long for better engagement"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-400 mr-2",children:"•"}),"Cover one concept per lecture"]})]})]}),e.jsxs("div",{className:"bg-yellow-900/30 p-6 rounded-lg border border-yellow-700",children:[e.jsx("h4",{className:"font-bold text-yellow-300 mb-4 text-lg",children:"Requirements:"}),e.jsxs("ul",{className:"space-y-3 text-yellow-200",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-yellow-400 mr-2",children:"•"}),"Your course must have at least five lectures"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-yellow-400 mr-2",children:"•"}),"All lectures must add up to at least 30+ minutes of total video"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-yellow-400 mr-2",children:"•"}),"Content must be educational and free of promotional materials"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-yellow-400 mr-2",children:"•"}),"If offering for free, total video length must be less than 2 hours"]})]})]})]})]}),r===4&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Course Settings"}),e.jsx("p",{className:"text-gray-400",children:"Configure additional settings for your course"})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx("div",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Level"}),e.jsxs("select",{value:t.level,onChange:s=>l("level",s.target.value),className:"w-full px-4 py-3 bg-gray-600 border border-gray-500 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Language"}),e.jsx("input",{type:"text",value:t.language,onChange:s=>l("language",s.target.value),className:"w-full px-4 py-3 bg-gray-600 border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 transition-colors"})]})]})})})]}),r===5&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Pricing"}),e.jsx("p",{className:"text-gray-400",children:"Select the pricing tier for your course. Free courses must have less than 2 hours of video content."}),e.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Available: ",d.length," pricing tier(s)"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.length>0?d.map(s=>e.jsxs("div",{className:`border rounded-lg p-6 cursor-pointer transition-all duration-300 hover:shadow-xl ${t.pricing_tier_id===s.id.toString()?"border-blue-500 bg-blue-900/30 shadow-lg":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,onClick:()=>l("pricing_tier_id",s.id.toString()),children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"radio",name:"pricing_tier",value:s.id,checked:t.pricing_tier_id===s.id.toString(),onChange:()=>l("pricing_tier_id",s.id.toString()),className:"mr-3 text-blue-600 bg-gray-600 border-gray-500 focus:ring-blue-500"}),e.jsxs("h4",{className:"font-bold text-white text-lg",children:[s.name,s.is_popular&&e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-yellow-600 text-white rounded-full",children:"Popular"})]})]}),e.jsxs("p",{className:"text-3xl font-bold text-white mb-2",children:[s.price>0?`$${s.price}`:"Free",e.jsxs("span",{className:"text-base font-normal text-gray-400",children:["/",s.currency]})]}),s.description&&e.jsx("p",{className:"text-gray-300 mb-4",children:s.description}),s.features&&Array.isArray(s.features)&&s.features.length>0&&e.jsxs("ul",{className:"text-sm text-gray-400 space-y-2",children:[s.features.slice(0,3).map((i,o)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-400 mr-2",children:"•"}),i]},o)),s.features.length>3&&e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-400 mr-2",children:"•"}),"And ",s.features.length-3," more..."]})]})]},`tier-${s.id}`)):e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No pricing tiers available"})})}),n.pricing_tier_id&&e.jsx("div",{className:"text-red-400 text-sm text-center",children:n.pricing_tier_id})]}),e.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-600 mt-12",children:[e.jsx("button",{type:"button",onClick:w,disabled:r===1,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${r===1?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-500 hover:shadow-lg"}`,children:"Previous"}),e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-gray-400 text-sm",children:["Step ",r," of 5"]})}),r<5?e.jsx("button",{type:"button",onClick:N,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-all duration-200 hover:shadow-lg",children:"Next"}):e.jsx("button",{type:"submit",disabled:c,className:`px-8 py-3 rounded-lg font-medium transition-all duration-200 ${c?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white hover:shadow-lg"}`,children:c?"Creating...":"Create Course"})]})]})})]})]})}export{$ as default};
