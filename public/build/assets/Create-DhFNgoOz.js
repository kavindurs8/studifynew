import{v as _,j as e,$ as j}from"./app-DsiinyfJ.js";import{T}from"./TeacherLayout-C2Oz-zyu.js";import"./index-DFVleI9N.js";function N({categories:m=[],teacher:b}){var d;const{data:s,setData:t,post:h,errors:l,processing:n}=_({title:"",description:"",live_class_category_id:"",day_of_week:"",start_time:"",duration_minutes:60,timezone:"UTC+05:30 - Asia/Colombo",repeat_frequency:"weekly",subscription_fee:"",subscription_duration_type:"day",subscription_duration_value:30,monthly_week:""}),x=a=>{a.preventDefault(),h(route("teacher.live-classes.store"))},g=a=>{t(r=>{const i={...r,day_of_week:a};return a==="Every Day"?i.repeat_frequency="daily":a&&a!=="Every Day"&&r.repeat_frequency==="daily"&&(i.repeat_frequency="weekly"),i})},y=a=>{t(r=>{const i={...r,repeat_frequency:a};return a!=="monthly"&&(i.monthly_week=""),i})},o=s.day_of_week==="Every Day",f=s.repeat_frequency==="monthly"&&s.day_of_week&&s.day_of_week!=="Every Day"&&s.day_of_week!=="",c=s.day_of_week&&s.day_of_week!=="Every Day",p=[{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"},{value:150,label:"2.5 hours"},{value:180,label:"3 hours"},{value:240,label:"4 hours"},{value:300,label:"5 hours"},{value:360,label:"6 hours"},{value:480,label:"8 hours"}],v=[{value:1,label:"1 Day"},{value:30,label:"1 Month"},{value:60,label:"2 Months"},{value:90,label:"3 Months"},{value:120,label:"4 Months"},{value:180,label:"6 Months"},{value:365,label:"1 Year"}],u=[{value:"first",label:"First Week"},{value:"second",label:"Second Week"},{value:"third",label:"Third Week"},{value:"fourth",label:"Fourth Week"},{value:"last",label:"Last Week"}],C=["UTC−12:00 - Etc/GMT+12","UTC−11:00 - Pacific/Midway","UTC−11:00 - Pacific/Niue","UTC−11:00 - Pacific/Pago_Pago","UTC−10:00 - Pacific/Honolulu","UTC−10:00 - Pacific/Tahiti","UTC−09:30 - Pacific/Marquesas","UTC−09:00 - America/Anchorage","UTC−09:00 - Pacific/Gambier","UTC−08:00 - America/Los_Angeles","UTC−08:00 - America/Tijuana","UTC−07:00 - America/Denver","UTC−07:00 - America/Phoenix","UTC−06:00 - America/Chicago","UTC−06:00 - America/Mexico_City","UTC−05:00 - America/New_York","UTC−05:00 - America/Lima","UTC−04:30 - America/Caracas","UTC−04:00 - America/Halifax","UTC−04:00 - America/La_Paz","UTC−03:30 - America/St_Johns","UTC−03:00 - America/Argentina/Buenos_Aires","UTC−03:00 - America/Sao_Paulo","UTC−02:00 - America/Noronha","UTC−02:00 - Atlantic/South_Georgia","UTC−01:00 - Atlantic/Azores","UTC−01:00 - Atlantic/Cape_Verde","UTC±00:00 - Africa/Abidjan","UTC±00:00 - Europe/London","UTC±00:00 - UTC","UTC+01:00 - Europe/Berlin","UTC+01:00 - Africa/Lagos","UTC+02:00 - Europe/Kiev","UTC+02:00 - Africa/Cairo","UTC+03:00 - Europe/Moscow","UTC+03:00 - Africa/Nairobi","UTC+03:30 - Asia/Tehran","UTC+04:00 - Asia/Dubai","UTC+04:00 - Europe/Samara","UTC+04:30 - Asia/Kabul","UTC+05:00 - Asia/Karachi","UTC+05:00 - Asia/Yekaterinburg","UTC+05:30 - Asia/Colombo","UTC+05:30 - Asia/Kolkata","UTC+05:45 - Asia/Kathmandu","UTC+06:00 - Asia/Dhaka","UTC+06:00 - Asia/Novosibirsk","UTC+06:30 - Asia/Yangon","UTC+06:30 - Indian/Cocos","UTC+07:00 - Asia/Bangkok","UTC+07:00 - Asia/Krasnoyarsk","UTC+08:00 - Asia/Shanghai","UTC+08:00 - Asia/Singapore","UTC+08:00 - Australia/Perth","UTC+08:45 - Australia/Eucla","UTC+09:00 - Asia/Tokyo","UTC+09:00 - Asia/Seoul","UTC+09:00 - Asia/Yakutsk","UTC+09:30 - Australia/Adelaide","UTC+09:30 - Australia/Darwin","UTC+10:00 - Australia/Sydney","UTC+10:00 - Pacific/Port_Moresby","UTC+10:00 - Asia/Vladivostok","UTC+10:30 - Australia/Lord_Howe","UTC+11:00 - Pacific/Noumea","UTC+11:00 - Pacific/Guadalcanal","UTC+11:00 - Asia/Sakhalin","UTC+12:00 - Pacific/Auckland","UTC+12:00 - Pacific/Fiji","UTC+12:00 - Asia/Kamchatka","UTC+12:45 - Pacific/Chatham","UTC+13:00 - Pacific/Tongatapu","UTC+13:00 - Pacific/Enderbury","UTC+13:00 - Pacific/Fakaofo","UTC+14:00 - Pacific/Kiritimati"];return e.jsxs(T,{teacher:b,title:"Create Live Class - STUDIFY",pageTitle:"Create Live Class",pageSubtitle:"Set up a new live class with Zoom integration",activeMenuItem:"live-classes",children:[e.jsx(j,{title:"Create Live Class"}),e.jsx("div",{className:"max-w-8xl mx-auto",children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Class Title *"}),e.jsx("input",{type:"text",value:s.title,onChange:a=>t("title",a.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",placeholder:"Enter class title"}),l.title&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),e.jsxs("select",{value:s.live_class_category_id,onChange:a=>t("live_class_category_id",a.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",children:[e.jsx("option",{value:"",children:"Select Category"}),m.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),l.live_class_category_id&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.live_class_category_id})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),e.jsx("textarea",{value:s.description,onChange:a=>t("description",a.target.value),rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",placeholder:"Describe your live class"}),l.description&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.description})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Schedule Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Day of Week *"}),e.jsxs("select",{value:s.day_of_week,onChange:a=>g(a.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",children:[e.jsx("option",{value:"",children:"Select Day"}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Every Day"].map(a=>e.jsx("option",{value:a,children:a==="Every Day"?"Every Day (For daily classes)":a},a))]}),l.day_of_week&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.day_of_week})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time *"}),e.jsx("input",{type:"time",value:s.start_time,onChange:a=>t("start_time",a.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600"}),l.start_time&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.start_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration *"}),e.jsx("select",{value:s.duration_minutes,onChange:a=>t("duration_minutes",parseInt(a.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",children:p.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),l.duration_minutes&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.duration_minutes})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone *"}),e.jsx("select",{value:s.timezone,onChange:a=>t("timezone",a.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",children:C.map(a=>e.jsx("option",{value:a,children:a},a))}),l.timezone&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.timezone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Repeat *"}),e.jsx("select",{value:s.repeat_frequency,onChange:a=>y(a.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",disabled:o,children:o?e.jsx("option",{value:"daily",children:"Daily"}):c?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})}),l.repeat_frequency&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.repeat_frequency}),o&&e.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:'Locked to "Daily" because "Every Day" is selected'}),c&&e.jsx("p",{className:"text-blue-400 text-xs mt-1",children:"Only Weekly and Monthly options available for specific days"})]})]}),f&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Monthly Schedule Details"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Which Week of the Month? *"}),e.jsxs("select",{value:s.monthly_week,onChange:a=>t("monthly_week",a.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",children:[e.jsx("option",{value:"",children:"Select Week"}),u.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]}),l.monthly_week&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.monthly_week})]})}),e.jsx("div",{className:"mt-3 p-3 bg-blue-900/30 border border-blue-700 rounded-md",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:[e.jsx("strong",{children:"Example:"}),' If you select "First Week", the class will occur on the first ',s.day_of_week," of every month.",e.jsx("br",{}),e.jsx("strong",{children:"Schedule:"})," ",s.monthly_week&&`${(d=u.find(a=>a.value===s.monthly_week))==null?void 0:d.label} ${s.day_of_week} of every month`]})})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Subscription Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subscription Fee (LKR) *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:s.subscription_fee,onChange:a=>t("subscription_fee",a.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",placeholder:"0.00"}),l.subscription_fee&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.subscription_fee})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subscription Duration *"}),e.jsx("select",{value:s.subscription_duration_value,onChange:a=>t("subscription_duration_value",parseInt(a.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:bg-gray-600",children:v.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),l.subscription_duration_value&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.subscription_duration_value})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",children:n?"Creating...":"Create Live Class"})]})]})})]})}export{N as default};
