import{j as e,$ as u,Y as i,m as p}from"./app-DsiinyfJ.js";import{T as g}from"./TeacherLayout-C2Oz-zyu.js";import"./index-DFVleI9N.js";function j({liveClasses:a=[],teacher:o}){const c=t=>{confirm("Are you sure you want to submit this class for approval?")&&p.patch(route("teacher.live-classes.submit-for-approval",t),{},{onSuccess:()=>{},onError:r=>{console.error("Error submitting for approval:",r)}})},d=t=>t?new Date(`2000-01-01T${t}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"",l=t=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR"}).format(t||0),m=t=>{if(!t)return"";const r=Math.floor(t/60),s=t%60;return r>0&&s>0?`${r}h ${s}m`:r>0?`${r}h`:`${s}m`},x=t=>t.repeat_frequency==="monthly"&&t.monthly_week?`${{first:"1st",second:"2nd",third:"3rd",fourth:"4th",last:"Last"}[t.monthly_week]||t.monthly_week} ${t.day_of_week} (Monthly)`:t.repeat_frequency==="weekly"?`${t.day_of_week} (Weekly)`:t.repeat_frequency==="daily"||t.day_of_week==="Every Day"?"Every day (Daily)":`${t.day_of_week} (${t.repeat_frequency})`,h=({status:t})=>{const r=n=>{switch(n){case"draft":return"bg-gray-500";case"pending_approval":return"bg-yellow-500";case"approved":return"bg-green-500";case"rejected":return"bg-red-500";default:return"bg-gray-500"}},s=n=>{switch(n){case"draft":return"Draft";case"pending_approval":return"Pending Approval";case"approved":return"Approved";case"rejected":return"Rejected";default:return"Unknown"}};return e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium text-white rounded-full ${r(t)}`,children:s(t)})};return e.jsxs(g,{teacher:o,title:"Live Classes - STUDIFY",pageTitle:"Live Classes",pageSubtitle:"Manage your live classes with Zoom integration",activeMenuItem:"live-classes",children:[e.jsx(u,{title:"Live Classes"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center bg-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Your Live Classes"}),e.jsxs("p",{className:"text-gray-400",children:["Total Classes: ",a.length," | Active Classes: ",a.filter(t=>t.is_active).length]})]}),e.jsxs(i,{href:route("teacher.live-classes.create"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg transition-colors duration-200 shadow-md flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Live Class"]})]}),a.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(t=>{var r;return e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg border border-gray-700 hover:shadow-xl transition-shadow duration-300",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${t.is_active?"bg-green-500":"bg-gray-500"}`}),t.is_active?"Active":"Inactive"]}),e.jsx(h,{status:t.status})]})]})}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"inline-block px-3 py-1 text-xs font-medium bg-blue-900/50 text-blue-300 border border-blue-700 rounded-full",children:((r=t.category)==null?void 0:r.name)||"Uncategorized"})}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:t.description}),e.jsxs("div",{className:"border-t border-gray-700 pt-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Schedule:"}),e.jsx("p",{className:"text-white font-medium",children:x(t)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Time:"}),e.jsx("p",{className:"text-white font-medium",children:d(t.start_time)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Duration:"}),e.jsx("p",{className:"text-white font-medium",children:m(t.duration_minutes)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Frequency:"}),e.jsx("p",{className:"text-white font-medium capitalize",children:t.repeat_frequency})]})]}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Timezone:"}),e.jsx("p",{className:"text-white font-medium",children:t.timezone})]})]}),e.jsxs("div",{className:"border-t border-gray-700 pt-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Subscription Fee:"}),e.jsx("span",{className:"text-green-400 font-semibold",children:l(t.subscription_fee)})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Duration:"}),e.jsxs("span",{className:"text-gray-300 text-sm",children:[t.subscription_duration_value," ",t.subscription_duration_type,t.subscription_duration_value>1?"s":""]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{href:route("teacher.live-classes.show",t.id),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-center py-2 px-4 rounded-md text-sm transition-colors duration-200",children:"Manage"}),t.status==="draft"&&e.jsx("button",{onClick:()=>c(t.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded-md text-sm transition-colors duration-200",children:"Submit for Approval"}),t.status==="approved"&&t.zoom_join_url&&e.jsx("a",{href:t.zoom_join_url,target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md text-sm transition-colors duration-200 flex items-center",children:"Join"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Created: ",new Date(t.created_at).toLocaleDateString()]})})]},t.id)})}):e.jsxs("div",{className:"text-center py-12 bg-gray-800 rounded-lg",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No live classes yet"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Create your first live class to start teaching online"}),e.jsxs(i,{href:route("teacher.live-classes.create"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg transition-colors duration-200 inline-flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Live Class"]})]})]})]})}export{j as default};
